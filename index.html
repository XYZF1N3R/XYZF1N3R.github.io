<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NES Mobile Miner 2.0</title>
    <style>
        :root {
            --neon-green: #00ff9d;
            --dark-bg: #1a1a1a;
            --red: #ff4655;
        }

        body {
            font-family: Arial, sans-serif;
            background: var(--dark-bg);
            color: var(--neon-green);
            margin: 0;
            padding: 10px;
        }

        .container {
            display: grid;
            grid-template-columns: 1fr;
            gap: 15px;
            max-width: 800px;
            margin: 0 auto;
        }

        .panel {
            background: #2a2a2a;
            padding: 15px;
            border-radius: 8px;
            border: 1px solid #00ff9d33;
            margin-bottom: 15px;
            position: relative;
        }

        button {
            background: #006600;
            border: none;
            color: var(--neon-green);
            padding: 12px;
            border-radius: 8px;
            cursor: pointer;
            margin: 5px 0;
            width: 100%;
            font-size: 16px;
            transition: transform 0.1s;
        }

        button:active {
            transform: scale(0.98);
        }

        .upgrade-item {
            margin: 10px 0;
            padding: 10px;
            background: #003300;
            border-radius: 5px;
            border: 1px solid #00ff9d33;
        }

        .section-title {
            color: var(--neon-green);
            border-bottom: 2px solid var(--neon-green);
            padding-bottom: 5px;
            margin-bottom: 15px;
            font-size: 1.2em;
        }

        .boss-health {
            height: 20px;
            background: #220000;
            border-radius: 10px;
            overflow: hidden;
        }

        .boss-health-bar {
            height: 100%;
            background: var(--red);
            width: 100%;
            transition: width 0.3s;
        }

        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #006600;
            padding: 10px;
            border-radius: 5px;
            animation: slideIn 0.5s;
        }

        @keyframes slideIn {
            from { right: -300px; }
            to { right: 20px; }
        }

        .prestige-btn {
            background: #4b0082;
            border: 1px solid #9400d3;
        }
    </style>
</head>
<body>
    <h2>üñ•Ô∏è NES: <span id="nes">0</span> | ‚ö° –≠–Ω–µ—Ä–≥–∏—è: <span id="energy">100</span>%</h2>
    
    <div class="container">
        <!-- –ú–∞–π–Ω–∏–Ω–≥ -->
        <div class="panel">
            <div class="section-title">‚õèÔ∏è –ú–∞–π–Ω–∏–Ω–≥ —Å–∏—Å—Ç–µ–º–∞</div>
            
            <div class="upgrade-item">
                <h4>üéÆ –í–∏–¥–µ–æ–∫–∞—Ä—Ç—ã (Level <span id="gpuLevel">1</span>) 
                    <span class="achievement-lock">üîì</span></h4>
                <p>+50 Hash/s (+<span id="gpuBonus">0</span> –æ—Ç –º–æ–¥–æ–≤)</p>
                <button onclick="upgradeGPU()">–£–ª—É—á—à–∏—Ç—å (ü™ô<span id="gpuCost">100</span>)</button>
            </div>

            <!-- –î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–æ–≤—ã–µ —É–ª—É—á—à–µ–Ω–∏—è -->
            <div class="upgrade-item">
                <h4>üõ°Ô∏è –ó–∞—â–∏—Ç–∞ –æ—Ç –ø–µ—Ä–µ–≥—Ä–µ–≤–∞ (Level <span id="coolingLevel">1</span>)</h4>
                <p>-2% –ø–æ—Ç–µ—Ä—å —ç–Ω–µ—Ä–≥–∏–∏/—É—Ä–æ–≤–µ–Ω—å</p>
                <button onclick="upgradeCooling()">–£–ª—É—á—à–∏—Ç—å (ü™ô<span id="coolingCost">200</span>)</button>
            </div>

            <div class="upgrade-item">
                <h4>üåê –°–µ—Ç–µ–≤—ã–µ –Ω–æ–¥—ã (Level <span id="nodeLevel">0</span>)</h4>
                <p>+150 Hash/s (—Ç—Ä–µ–±—É–µ—Ç 20% —ç–Ω–µ—Ä–≥–∏–∏)</p>
                <button onclick="upgradeNodes()">–ö—É–ø–∏—Ç—å (ü™ô<span id="nodeCost">800</span>)</button>
            </div>
        </div>

        <!-- –ë–æ—Å—Å -->
        <div class="panel" id="bossPanel" style="display: none;">
            <div class="section-title">üëæ –ö–∏–±–µ—Ä-–±–æ—Å—Å</div>
            <p>–ó–¥–æ—Ä–æ–≤—å–µ: <span id="bossHealth">1000</span>/1000</p>
            <div class="boss-health">
                <div class="boss-health-bar" id="bossHealthBar"></div>
            </div>
            <button onclick="attackBoss()" id="attackBtn">‚öîÔ∏è –ê—Ç–∞–∫–æ–≤–∞—Ç—å (50 —ç–Ω–µ—Ä–≥–∏–∏)</button>
            <p>–ù–∞–≥—Ä–∞–¥–∞: ü™ô5000 + üîì –ü—Ä–µ—Å—Ç–∏–∂</p>
        </div>

        <!-- –ü—Ä–µ—Å—Ç–∏–∂ -->
        <div class="panel">
            <div class="section-title">üíé –ü—Ä–µ—Å—Ç–∏–∂ —Å–∏—Å—Ç–µ–º–∞</div>
            <p>–¢–µ–∫—É—â–∏–π —É—Ä–æ–≤–µ–Ω—å: <span id="prestigeLevel">0</span></p>
            <p>–ë–æ–Ω—É—Å: +<span id="prestigeBonus">0</span>% –∫ Hash/s</p>
            <button class="prestige-btn" onclick="prestige()" id="prestigeBtn" disabled>
                üîì –ü—Ä–µ—Å—Ç–∏–∂ (–¢—Ä–µ–±—É–µ—Ç—Å—è 10,000 NES)
            </button>
        </div>

        <!-- –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è -->
        <div class="panel">
            <div class="section-title">üèÜ –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è</div>
            <div id="achievementsList"></div>
        </div>
    </div>

    <script>
        let gameState = {
            nes: 100,
            hash: 0,
            energy: 100,
            gpuLevel: 1,
            coolingLevel: 1,
            nodeLevel: 0,
            prestigeLevel: 0,
            bossHealth: 1000,
            achievements: [],
            lastUpdate: Date.now()
        };

        const ACHIEVEMENTS = [
            { id: 1, name: "–ù–æ–≤–∏—á–æ–∫", condition: () => gameState.nes >= 1000, reward: "+10% —ç–Ω–µ—Ä–≥–∏–∏" },
            { id: 2, name: "–ö–∏–±–µ—Ä-–≤–æ–∏–Ω", condition: () => gameState.bossHealth <= 0, reward: "üîì –ü—Ä–µ—Å—Ç–∏–∂+" },
            { id: 3, name: "–≠–Ω–µ—Ä–≥–µ—Ç–∏–∫", condition: () => gameState.energy >= 200, reward: "+1 –Ω–æ–¥–∞" }
        ];

        // –ù–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ —ç–Ω–µ—Ä–≥–∏–∏
        function updateEnergy() {
            const energyDrain = 
                5 * gameState.nodeLevel - 
                2 * gameState.coolingLevel;
            
            gameState.energy = Math.min(100 + gameState.prestigeLevel * 20, 
                Math.max(0, gameState.energy - energyDrain/3600));
        }

        // –ë–æ—Å—Å —Å–∏—Å—Ç–µ–º–∞
        function spawnBoss() {
            if(Math.random() < 0.01 && gameState.bossHealth > 0) {
                document.getElementById('bossPanel').style.display = 'block';
            }
        }

        function attackBoss() {
            if(gameState.energy >= 50) {
                gameState.energy -= 50;
                gameState.bossHealth -= 50 + gameState.prestigeLevel * 20;
                
                if(gameState.bossHealth <= 0) {
                    gameState.nes += 5000;
                    showNotification('üéâ –ë–æ—Å—Å –ø–æ–±–µ–∂–¥–µ–Ω! +5000 NES');
                    gameState.bossHealth = 1000 * (gameState.prestigeLevel + 1);
                }
                
                updateUI();
            }
        }

        // –ü—Ä–µ—Å—Ç–∏–∂ —Å–∏—Å—Ç–µ–º–∞
        function prestige() {
            if(gameState.nes >= 10000) {
                gameState.prestigeLevel++;
                gameState.nes = 100;
                gameState.gpuLevel = 1;
                gameState.coolingLevel = 1;
                gameState.nodeLevel = 0;
                gameState.energy = 100;
                saveGame();
                updateUI();
            }
        }

        // –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è
        function checkAchievements() {
            ACHIEVEMENTS.forEach(ach => {
                if(!gameState.achievements.includes(ach.id) && ach.condition()) {
                    gameState.achievements.push(ach.id);
                    showNotification(`üèÜ –ü–æ–ª—É—á–µ–Ω–æ: ${ach.name}! ${ach.reward}`);
                }
            });
        }

        function showNotification(text) {
            const div = document.createElement('div');
            div.className = 'notification';
            div.textContent = text;
            document.body.appendChild(div);
            setTimeout(() => div.remove(), 3000);
        }

        // –û—Å—Ç–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –æ—Å—Ç–∞—é—Ç—Å—è —Å –∞–¥–∞–ø—Ç–∞—Ü–∏–µ–π –ø–æ–¥ –Ω–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        window.onload = function() {
            loadGame();
            setInterval(() => {
                gameState.hash += calculateTotalHash() / 3600;
                updateEnergy();
                spawnBoss();
                checkAchievements();
                updateUI();
            }, 1000);
        };
    </script>
</body>
</html>
