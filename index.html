<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NES Miner</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: #1a1a1a;
            color: #00ff9d;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            padding: 20px;
        }

        .panel {
            background: #2a2a2a;
            padding: 20px;
            border-radius: 10px;
            min-width: 300px;
            border: 1px solid #00ff9d33;
        }

        button {
            background: #006600;
            border: none;
            color: #00ff9d;
            padding: 10px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
            font-family: 'Courier New', monospace;
        }

        button:hover {
            background: #004400;
        }

        #miner {
            width: 300px;
            height: 200px;
            background: #000;
            position: relative;
            cursor: crosshair;
            border: 2px solid #00ff9d;
        }

        .progress-bar {
            width: 100%;
            height: 20px;
            background: #003300;
            border-radius: 10px;
            margin: 10px 0;
        }

        .progress {
            height: 100%;
            background: #00ff9d;
            border-radius: 10px;
            width: 0%;
        }
    </style>
</head>
<body>
    <h1>üñ•Ô∏è NES Miner v1.0</h1>
    <h2>Balance: <span id="nes">0</span> NES</h2>
    
    <div class="container">
        <div class="panel">
            <h3>Mining Farm</h3>
            <p>Farm Level: <span id="farmLevel">1</span></p>
            <p>Hash/Hour: <span id="hashPerHour">100</span></p>
            <p>Accumulated Hash: <span id="hash">0</span></p>
            <div class="progress-bar">
                <div class="progress" id="hashProgress"></div>
            </div>
            <button onclick="upgradeFarm()">Upgrade Farm (ü™ô<span id="farmCost">50</span> NES)</button>
        </div>

        <div class="panel">
            <h3>Exchange Market</h3>
            <p>Current Rate: 1 Hash = <span id="exchangeRate">3.50</span> NES</p>
            <p>Next Rate Change: <span id="timer">24:00:00</span></p>
            <button onclick="exchangeHash()">Convert Hash to NES</button>
            <h4>Last Rates:</h4>
            <div id="rateHistory"></div>
        </div>
    </div>

    <script>
        let gameState = {
            nes: 50,
            hash: 0,
            farmLevel: 1,
            farmCost: 50,
            hashPerHour: 100,
            exchangeRate: 3.5,
            ratesHistory: []
        };

        // –ú–∞–π–Ω–∏–Ω–≥ —Ö–µ—à–µ–π
        setInterval(() => {
            const hashPerSecond = gameState.hashPerHour / 3600;
            gameState.hash += hashPerSecond;
            updateUI();
        }, 1000);

        // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫—É—Ä—Å–∞
        function generateNewRate() {
            const minRate = 1.0;
            const maxRate = 5.0;
            gameState.exchangeRate = (Math.random() * (maxRate - minRate) + minRate).toFixed(2);
            gameState.ratesHistory.push(gameState.exchangeRate);
            if(gameState.ratesHistory.length > 5) gameState.ratesHistory.shift();
            updateRateHistory();
            startTimer();
        }

        // –¢–∞–π–º–µ—Ä –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫—É—Ä—Å–∞
        let timer = 86400; // 24 —á–∞—Å–∞ –≤ —Å–µ–∫—É–Ω–¥–∞—Ö
        function startTimer() {
            timer = 86400;
            const timerInterval = setInterval(() => {
                timer--;
                const hours = Math.floor(timer / 3600);
                const minutes = Math.floor((timer % 3600) / 60);
                const seconds = timer % 60;
                document.getElementById('timer').textContent = 
                    `${String(hours).padStart(2, '0')}:${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;
                
                if(timer <= 0) {
                    clearInterval(timerInterval);
                    generateNewRate();
                }
            }, 1000);
        }

        // –û–±–º–µ–Ω —Ö–µ—à–µ–π –Ω–∞ NES
        function exchangeHash() {
            if(gameState.hash >= 1) {
                const gainedNES = gameState.hash * gameState.exchangeRate;
                gameState.nes += gainedNES;
                gameState.hash = 0;
                updateUI();
            }
        }

        // –£–ª—É—á—à–µ–Ω–∏–µ —Ñ–µ—Ä–º—ã
        function upgradeFarm() {
            if(gameState.nes >= gameState.farmCost) {
                gameState.nes -= gameState.farmCost;
                gameState.farmLevel++;
                gameState.hashPerHour = Math.floor(gameState.hashPerHour * 1.5);
                gameState.farmCost = Math.floor(gameState.farmCost * 2.5);
                updateUI();
            }
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –∫—É—Ä—Å–æ–≤
        function updateRateHistory() {
            const historyElement = document.getElementById('rateHistory');
            historyElement.innerHTML = gameState.ratesHistory
                .map(rate => `<div>${rate} NES/Hash</div>`)
                .reverse()
                .join('');
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
        function updateUI() {
            document.getElementById('nes').textContent = gameState.nes.toFixed(2);
            document.getElementById('hash').textContent = gameState.hash.toFixed(2);
            document.getElementById('farmLevel').textContent = gameState.farmLevel;
            document.getElementById('hashPerHour').textContent = gameState.hashPerHour;
            document.getElementById('farmCost').textContent = gameState.farmCost;
            document.getElementById('exchangeRate').textContent = gameState.exchangeRate;
            document.getElementById('hashProgress').style.width = 
                `${(gameState.hash % 100)}%`;
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        generateNewRate();
        updateRateHistory();
    </script>
</body>
</html>
