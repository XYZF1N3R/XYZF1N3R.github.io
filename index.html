<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NES Mobile Miner</title>
    <style>
        /* –°—Ç–∏–ª–∏ –æ—Å—Ç–∞—é—Ç—Å—è –ø—Ä–µ–∂–Ω–∏–º–∏ */
    </style>
</head>
<body>
    <!-- HTML —Ä–∞–∑–º–µ—Ç–∫–∞ –æ—Å—Ç–∞–µ—Ç—Å—è –ø—Ä–µ–∂–Ω–µ–π -->

    <script>
        let gameState = {
            nes: 0,
            hash: 0,
            gpuLevel: 1,
            coolingLevel: 1,
            asicLevel: 0,
            nerdLevel: 0,
            exchangeRate: 3.5,
            lastUpdate: Date.now(),
            quantumLevel: 0
        };

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏ –∑–∞–≥—Ä—É–∑–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
        function loadGame() {
            const saved = localStorage.getItem('nesMinerSave');
            if(saved) {
                const parsed = JSON.parse(saved);
                Object.assign(gameState, parsed);
                
                // –†–∞—Å—á–µ—Ç –æ—Ñ–ª–∞–π–Ω-–º–∞–π–Ω–∏–Ω–≥–∞
                const offlineTime = Date.now() - gameState.lastUpdate;
                gameState.hash += calculateTotalHash() * (offlineTime / 3600000);
                gameState.lastUpdate = Date.now();
            }
        }

        function saveGame() {
            gameState.lastUpdate = Date.now();
            localStorage.setItem('nesMinerSave', JSON.stringify(gameState));
        }

        // –°–∏—Å—Ç–µ–º–∞ –∫—É—Ä—Å–∞
        function generateDailyRate() {
            const now = new Date();
            const seedDate = new Date(Date.UTC(
                now.getUTCFullYear(), 
                now.getUTCMonth(), 
                now.getUTCDate()
            ));
            
            if(now.getUTCHours() < 12) {
                seedDate.setUTCDate(seedDate.getUTCDate() - 1);
            }
            
            const seed = seedDate.toISOString().slice(0,10);
            const hash = seed.split('').reduce((acc, char) => acc + char.charCodeAt(0), 0);
            gameState.exchangeRate = Number((1 + (hash % 400)/100).toFixed(2));
            startTimer();
        }

        // –¢–∞–π–º–µ—Ä –¥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫—É—Ä—Å–∞
        function startTimer() {
            const now = new Date();
            let nextUpdate = new Date(Date.UTC(
                now.getUTCFullYear(), 
                now.getUTCMonth(), 
                now.getUTCDate(), 
                12
            ));
            
            if(now.getUTCHours() >= 12) {
                nextUpdate.setUTCDate(nextUpdate.getUTCDate() + 1);
            }
            
            const timeDiff = nextUpdate - now;
            setTimeout(() => {
                generateDailyRate();
                startTimer();
            }, timeDiff);
        }

        // –ù–æ–≤—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç - Quantum Miner
        function upgradeQuantum() {
            const cost = 5000 * Math.pow(2, gameState.quantumLevel);
            if(gameState.nes >= cost) {
                gameState.nes -= cost;
                gameState.quantumLevel++;
                updateUI();
            }
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π —Ä–∞—Å—á–µ—Ç —Ö–µ—à—Ä–µ–π—Ç–∞
        function calculateTotalHash() {
            let hash = 
                (gameState.gpuLevel * 50) + 
                (gameState.asicLevel * 200) +
                (gameState.quantumLevel * 1000);
                
            return hash * calculateMultiplier();
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
        function updateUI() {
            // –î–æ–±–∞–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ Quantum Level
            document.getElementById('quantumLevel').textContent = gameState.quantumLevel;
            // –û—Å—Ç–∞–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI –æ—Å—Ç–∞–µ—Ç—Å—è –ø—Ä–µ–∂–Ω–∏–º
            saveGame();
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        window.onload = function() {
            loadGame();
            generateDailyRate();
            updateUI();
            
            // –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥
            setInterval(saveGame, 30000);
            
            // –ì–ª–∞–≤–Ω—ã–π –∏–≥—Ä–æ–≤–æ–π —Ü–∏–∫–ª
            setInterval(() => {
                gameState.hash += calculateTotalHash() / 3600;
                updateUI();
            }, 1000);
        }

        // –î–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—É—é –∫–Ω–æ–ø–∫—É –≤ HTML:
        /*
        <div class="upgrade-item">
            <h4>üåÄ Quantum Miner (Level <span id="quantumLevel">0</span>)</h4>
            <p>+1000 Hash/s</p>
            <button onclick="upgradeQuantum()">–ö—É–ø–∏—Ç—å (ü™ô<span id="quantumCost">5000</span>)</button>
        </div>
        */
    </script>
</body>
</html>
